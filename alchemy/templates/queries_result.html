{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="{% static 'css/w3.css' %}">
    <link rel="stylesheet" href="{% static 'css/fonts.css' %}">
    <link rel="stylesheet" href="{% static 'css/style_main_temp.css' %}">
    <title>Respuesta de la Consulta</title>
</head>
<div class="w3-content w3-padding-64" style="max-width:700px">
    <body>
        {%if moreCredits%}
        <h4 class="w3-center w3-padding-64"><span class="w3-tag w3-wide">Estudiantes con más créditos</span></h4>
        <table class="w3-table-all">
            <thead>
                <tr>
                    <th>Nombre</th>
                    <th>Apellidos</th>
                    <th>Email</th>
                    <th>Total de Creditos</th>
                </tr>
            </thead>
            <tbody>
                {%for student in moreCredits%}
                <tr>
                    <td>{{student.first_name}}</td>
                    <td>{{student.last_name}}</td>
                    <td>{{student.email}}</td>
                    <td>{{student.credits}}</td>
                </tr>
                {%endfor%}
            </tbody>
        </table>
        {% endif %}
    </body>

    <body>
        {%if moreElemCreated%}
        <h4 class="w3-center w3-padding-64"><span class="w3-tag w3-wide">Estudiantes con más elementos creados</span></h4>
        <table class="w3-table-all">
            <thead>
                <tr>
                    <th>Nombre</th>
                    <th>Apellidos</th>
                    <th>Cant de Elems</th>
                    <th>Total de creditos</th>
                </tr>
            </thead>
            <tbody>
                {%for student in moreElemCreated%}
                <tr>
                    <td>{{student.firstname}}</td>
                    <td>{{student.lastname}}</td>
                    <td>{{student.count_elem}}</td>
                    <td>{{student.credits}}</td>
                </tr>
                {%endfor%}
            </tbody>
        </table>
        {% endif %}
    </body>

    <body>
        {%if moreBasicElemUsed%}
        <h4 class="w3-center w3-padding-64"><span class="w3-tag w3-wide">Elementos más utilizados para realizar mezclas</span></h4>
        <table class="w3-table-all">
            <thead>
                <tr>
                    <th>Nombre</th>
                    <th>Cantidad</th>
                    <th>Valor</th>
                    <th>Asignatura</th>
                </tr>
            </thead>
            <tbody>
                {%for elem in moreBasicElemUsed%}
                <tr>
                    <td>{{elem.name}}</td>
                    <td>{{elem.cant_elem1}}</td>
                    <td>{{elem.value}}</td>
                    <td>{{elem.subject}}</td>
                </tr>
                {%endfor%}
            </tbody>
        </table>
        {% endif %}
    </body>

    <body>
        {%if moreValNoBasicElem%}
        <h4 class="w3-center w3-padding-64"><span class="w3-tag w3-wide">Elementos más utilizados para realizar mezclas</span></h4>
        <table class="w3-table-all">
            <thead>
                <tr>
                    <th>Nombre</th>
                    <th>Valor</th>
                </tr>
            </thead>
            <tbody>
                {%for elem in moreValNoBasicElem%}
                <tr>
                    <td>{{elem.name}}</td>
                    <td>{{elem.value}}</td>
                </tr>
                {%endfor%}
            </tbody>
        </table>
        {% endif %}
    </body>


    <body>
        {%if elemCreatedDay%}
        <h4 class="w3-center w3-padding-64"><span class="w3-tag w3-wide">Elementos creados en el dia</span></h4>
        <table class="w3-table-all">
            <thead>
                <tr>
                    <th>Nombre</th>
                    <th>Fecha de creacion</th>
                    <th>Estudiante</th>
                    <th>Apellidos</th>
                    <th>Asignatura</th>
                </tr>
            </thead>
            <tbody>
                {%for elem in elemCreatedDay%}
                <tr>
                    <td>{{elem.name}}</td>
                    <td>{{elem.date_time_creation}}</td>
                    <td>{{elem.study.student.first_name}}</td>
                    <td>{{elem.study.student.last_name}}</td>
                    <td>{{elem.study.subject.name}}</td>
                </tr>
                {%endfor%}
            </tbody>
        </table>
        {% endif %}
    </body>

    <body>
        {%if elemCreatedMonth%}
        <h4 class="w3-center w3-padding-64"><span class="w3-tag w3-wide">Elementos creados en el mes</span></h4>
        <table class="w3-table-all">
            <thead>
                <tr>
                    <th>Nombre</th>
                    <th>Fecha de creacion</th>
                    <th>Estudiante</th>
                    <th>Apellidos</th>
                    <th>Asignatura</th>
                </tr>
            </thead>
            <tbody>
                {%for elem in elemCreatedMonth%}
                <tr>
                    <td>{{elem.name}}</td>
                    <td>{{elem.date_time_creation}}</td>
                    <td>{{elem.study.student.first_name}}</td>
                    <td>{{elem.study.student.last_name}}</td>
                    <td>{{elem.study.subject.name}}</td>
                </tr>
                {%endfor%}
            </tbody>
        </table>
        {% endif %}
    </body>

    <body>
        {%if elemCreatedYear%}
        <h4 class="w3-center w3-padding-64"><span class="w3-tag w3-wide">Elementos creados en el año</span></h4>
        <table class="w3-table-all">
            <thead>
                <tr>
                    <th>Nombre</th>
                    <th>Fecha de creacion</th>
                    <th>Estudiante</th>
                    <th>Apellidos</th>
                    <th>Asignatura</th>
                </tr>
            </thead>
            <tbody>
                {%for elem in elemCreatedYear%}
                <tr>
                    <td>{{elem.name}}</td>
                    <td>{{elem.date_time_creation}}</td>
                    <td>{{elem.study.student.first_name}}</td>
                    <td>{{elem.study.student.last_name}}</td>
                    <td>{{elem.study.subject.name}}</td>
                </tr>
                {%endfor%}
            </tbody>
        </table>
        {% endif %}
    </body>

    <body>
        {%if elemCreatedDates%}
        <h2 class="title text-center"> Elementos creados en un intervalo de fechas </h2>
        <table class="w3-table-all">
            <thead>
                <tr>
                    <th>Nombre</th>
                    <th>Fecha de creacion</th>
                    <th>Estudiante</th>
                    <th>Apellidos</th>
                    <th>Asignatura</th>
                </tr>
            </thead>
            <tbody>
                {%for elem in elemCreatedDates%}
                <tr>
                    <td>{{elem.name}}</td>
                    <td>{{elem.date_time_creation}}</td>
                    <td>{{elem.study.student.first_name}}</td>
                    <td>{{elem.study.student.last_name}}</td>
                    <td>{{elem.study.subject.name}}</td>
                </tr>
                {%endfor%}
            </tbody>
        </table>
        {% endif %}
    </body>
    
    <body>
        {%if subjStudentsCredits%}
        <h4 class="w3-center w3-padding-64"><span class="w3-tag w3-wide">Ranking de estudiantes en una asignatura</span></h4>
        <table class="w3-table-all">
            <thead>
                <tr>
                    <th>Nombre</th>
                    <th>Apellidos</th>
                    <th>Creditos</th>
                </tr>
            </thead>
            <tbody>
                {%for student in subjStudentsCredits%}
                <tr>
                    <td>{{student.firstname}}</td>
                    <td>{{student.lastname}}</td>
                    <td>{{student.credits}}</td>
                </tr>
                {%endfor%}
            </tbody>
        </table>
        {% endif %}
    </body>

    <body>
        {%if subjStudentsCreditsN%}
        <h4 class="w3-center w3-padding-64"><span class="w3-tag w3-wide">Estudiantes con más créditos acumulados en la asignatura</span></h4>
        <table class="w3-table-all">
            <thead>
                <tr>
                    <th>Nombre</th>
                    <th>Apellidos</th>
                    <th>Creditos</th>
                </tr>
            </thead>
            <tbody>
                {%for student in subjStudentsCreditsN%}
                <tr>
                    <td>{{student.firstname}}</td>
                    <td>{{student.lastname}}</td>
                    <td>{{student.credits}}</td>
                </tr>
                {%endfor%}
            </tbody>
        </table>
        {% endif %}
    </body>

    <body>
        {%if bestStudentBySubj%}
        <h4 class="w3-center w3-padding-64"><span class="w3-tag w3-wide">Mejor estudiante por asignatura</span></h4>
        <table class="w3-table-all">
            <thead>
                <tr>
                    <th>Nombre</th>
                    <th>Apellidos</th>
                    <th>Creditos</th>
                    <th>Asignatura</th>
                </tr>
            </thead>
            <tbody>
                {%for student in bestStudentBySubj%}
                <tr>
                    <td>{{student.firstname}}</td>
                    <td>{{student.lastname}}</td>
                    <td>{{student.credits}}</td>
                    <td>{{student.subject}}</td>
                </tr>
                {%endfor%}
            </tbody>
        </table>
        {% endif %}
    </body>

    <body>
        {%if rankingDatesTotalCredits%}
        <h4 class="w3-center w3-padding-64"><span class="w3-tag w3-wide">Ranking de estudiantes por créditos totales en un intervalo de fechas</span></h4>
        <table class="w3-table-all">
            <thead>
                <tr>
                    <th>Estudiante</th>
                    <th>Apellidos</th>
                    <th>Creditos acumulados entre esas fechas</th>
                </tr>
            </thead>
            <tbody>
                {%for student in rankingDatesTotalCredits%}
                <tr>
                    <td>{{student.first_name}}</td>
                    <td>{{student.last_name}}</td>
                    <td>{{student.credits_acum}}</td>
                </tr>
                {%endfor%}
            </tbody>
        </table>
        {% endif %}
    </body>

    <body>
        {%if rankingDatesSubjectCredits%}
        <h4 class="w3-center w3-padding-64"><span class="w3-tag w3-wide">Ranking de estudiantes por créditos totales en un intervalo de fechas</span></h4>
        <table class="w3-table-all">
            <thead>
                <tr>
                    <th>Estudiante</th>
                    <th>Apellidos</th>
                    <th>Creditos acumulados entre esas fechas</th>
                </tr>
            </thead>
            <tbody>
                {%for student in rankingDatesSubjectCredits%}
                <tr>
                    <td>{{student.first_name}}</td>
                    <td>{{student.last_name}}</td>
                    <td>{{student.credits_acum}}</td>
                </tr>
                {%endfor%}
            </tbody>
        </table>
        {% endif %}
    </body>
</div>
</html>